(function($){$.fn.jcontexy=function(options){var settings={};$.extend(settings,this.jcontexy.defaults,options);var menu=$(settings.menu);menu.css({'position':'absolute','z-index':'1000'});var hide=function(){menu.hide();};hide();menu.menu({position:{my:settings.position,at:settings.at,collision:settings.collision}});this.bind(settings.event,function(e){e.preventDefault();menu.show().css({top:e.pageY+'px',left:e.pageX+'px'});});$(document).click(function(){hide();});return this;};$.fn.jcontexy.defaults={event:'contextmenu',menu:'#menu',position:'left top',at:'right-5 top+5',collision:'flipfit'};})(jQuery);